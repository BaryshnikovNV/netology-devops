# Домашнее задание к занятию "`Типы и структура СУБД`" - `Барышников Никита`


### Задание 1. 

Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.
Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде,
- склады и автомобильные дороги для логистической компании,
- генеалогические деревья,
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,
- отношения клиент-покупка для интернет-магазина.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

Решение:

*Электронные чеки в json-виде* лучше хранить в документноориентированных БД. Это тип баз данных, направлен на хранение и запрос данных в виде документов, подобном JSON.  
Известными представителями таких СУБД являются CouchDB, MongoDB, Amazon DocumentDB.

*Склады и автомобильные дороги для логистической компании* лучше хранить в графовых БД. В графовые БД отлично подходят для хранения связей (автомобильные дороги) между узлами (склады) по разным критериям.  
Известные представители этого типа СУБД - Neo4j, Amazon Neptune, InfiniteGraph, InfoGrid.

*Генеалогические деревья* можно хранить либо в сетевых БД, либо в графовых БД. Такие БД хорошо подходят для моделирования сложных отношений между данными, например, в социальных сетях или цепочках поставок.  
Примеры: База данных CODASYL, Neo4j, ArangoDB, OrientDB, Microsoft SQL Server Network Model, Raima Database Manager.

*Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации* лучше хранить в БД ключ-значение, где ключ - это идентификатор, а значение - имя клиента.  
Примеры: Riak, Amazon DynamoDB, Redis, Memcached.

*Отношения клиент-покупка для интернет-магазина* лучше всего хранить в реляционной БД, так как у интернет-магазина много клиентов, много покупок, много товаров или услуг и каждая из этих сущностей обладает множеством свойств.  
Реляционные СУБД обеспечивают возможность моделирования связей между таблицами, что удобно для хранения информации о покупках клиентов.  
Наиболее известные СУБД такого типа - Oracle, Microsoft SQL, PostgreSQL, MySQL.

---

### Задание 2.

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

- данные записываются на все узлы с задержкой до часа (асинхронная запись);
- при сетевых сбоях система может разделиться на 2 раздельных кластера;
- система может не прислать корректный ответ или сбросить соединение.

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

Решение:

согласно CAP-теореме:
- Данные записываются на все узлы с задержкой до часа (асинхронная запись) CP обеспечивается согласованность и устойчивость к разделению в ущерб доступности.
- При сетевых сбоях, система может разделиться на 2 раздельных кластера AP обеспечивается доступность и устойчивость к разделению в ущерб согласованности.
- Система может не прислать корректный ответ или сбросить соединение CP обеспечивается согласованность и устойчивость.

согласно PACELC-теореме:
- Данные записываются на все узлы с задержкой до часа (асинхронная запись) PC/EC
- При сетевых сбоях, система может разделиться на 2 раздельных кластера PA/EL
- Система может не прислать корректный ответ или сбросить соединение PC/EC

---

### Задание 3.

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

Решение:

Не могут. BASE ориентирован на производительность системы (доступность), ACID на сохранность данных(стойкость к разделению и сохранность данных). Согласно CAP-теореме системы с такими качествами будут находиться на разных ребрах треугольника.

---

### Задание 4.

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?

Решение:



---